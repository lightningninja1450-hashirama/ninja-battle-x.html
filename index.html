<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ninja Arena X â€” Full Scale</title>
<style>
body{margin:0;background:#060914;color:white;font-family:Arial}
#ui{position:fixed;top:0;left:0;right:0;background:#0b1030;padding:6px 10px;display:flex;justify-content:space-between;align-items:center;font-size:14px}
#game{display:block;margin:40px auto 0;border:3px solid #3cffd0;border-radius:8px;background:linear-gradient(#12193d,#070a18)}
</style>
</head>
<body>
<div id="ui"><div id="hp">HP:100</div><div id="map">Map:Arena</div><div id="score">Score:0</div></div>
<canvas id="game" width="1100" height="600"></canvas>

<script>
const c=document.getElementById('game'),x=c.getContext('2d');
const keys={};
addEventListener('keydown',e=>keys[e.key.toLowerCase()]=true);
addEventListener('keyup',e=>keys[e.key.toLowerCase()]=false);

/* MAP SYSTEM */
const maps={
 arena:{name:'Arena',platforms:[{x:0,y:560,w:1100,h:40},{x:300,y:450,w:200,h:20},{x:600,y:350,w:200,h:20}]},
 aerial:{name:'Aerial',platforms:[{x:0,y:560,w:1100,h:40},{x:200,y:400,w:160,h:20},{x:480,y:300,w:160,h:20},{x:760,y:200,w:160,h:20}]},
 coldfront:{name:'Coldfront',platforms:[{x:0,y:560,w:1100,h:40},{x:150,y:480,w:200,h:20},{x:450,y:400,w:200,h:20},{x:750,y:320,w:200,h:20}]}
};
let mapList=Object.keys(maps),mapIndex=0,currentMap=maps[mapList[0]];

setInterval(()=>{mapIndex=(mapIndex+1)%mapList.length;currentMap=maps[mapList[mapIndex]];document.getElementById('map').textContent='Map:'+currentMap.name;player.x=100;player.y=100;},25000);

class Player{constructor(){this.x=100;this.y=100;this.w=30;this.h=42;this.vx=0;this.vy=0;this.speed=4;this.jump=-11;this.onGround=false;this.hp=100;this.canDash=true;}update(){this.vx=0;if(keys.a)this.vx=-this.speed;if(keys.d)this.vx=this.speed;if((keys.w||keys[' '])&&this.onGround){this.vy=this.jump;}if(keys.shift&&this.canDash){this.vx*=5;this.canDash=false;setTimeout(()=>this.canDash=true,1200);}this.vy+=0.6;this.x+=this.vx;this.y+=this.vy;this.onGround=false;for(const p of currentMap.platforms){if(this.x+this.w>p.x&&this.x<p.x+p.w&&this.y+this.h>p.y&&this.y+this.h<p.y+p.h+20){this.y=p.y-this.h;this.vy=0;this.onGround=true;}}this.x=Math.max(0,Math.min(c.width-this.w,this.x));}draw(){x.fillStyle='#3cffd0';x.fillRect(this.x,this.y,this.w,this.h);}}

class Bot{constructor(){this.x=Math.random()*900+100;this.y=50;this.w=30;this.h=40;this.vx=2;this.vy=0;this.hp=50;}update(){this.vy+=0.6;this.x+=this.vx;this.y+=this.vy;if(this.x<0||this.x+this.w>c.width)this.vx*=-1;for(const p of currentMap.platforms){if(this.x+this.w>p.x&&this.x<p.x+p.w&&this.y+this.h>p.y&&this.y+this.h<p.y+p.h+20){this.y=p.y-this.h;this.vy=0;}}}draw(){x.fillStyle='#ff4b4b';x.fillRect(this.x,this.y,this.w,this.h);}}

class Bullet{constructor(x,y,dir){this.x=x;this.y=y;this.r=4;this.v=9*dir;}update(){this.x+=this.v;}draw(){x.fillStyle='white';x.beginPath();x.arc(this.x,this.y,this.r,0,Math.PI*2);x.fill();}}

const player=new Player();
let bots=[],bullets=[],score=0;

addEventListener('click',()=>bullets.push(new Bullet(player.x+player.w,player.y+player.h/2,1)));

function loop(){x.clearRect(0,0,c.width,c.height);
  for(const p of currentMap.platforms){x.fillStyle='#1e2350';x.fillRect(p.x,p.y,p.w,p.h);}  
  player.update();player.draw();
  if(bots.length<6)bots.push(new Bot());
  bots.forEach((b,i)=>{b.update();b.draw();bullets.forEach((s,si)=>{if(s.x>b.x&&s.x<b.x+b.w&&s.y>b.y&&s.y<b.y+b.h){bots.splice(i,1);bullets.splice(si,1);score+=10;}})});
  bullets.forEach((s,i)=>{s.update();s.draw();if(s.x>c.width)bullets.splice(i,1);});
  document.getElementById('score').textContent='Score:'+score;
  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>

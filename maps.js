const TILE = 50;

const MAPS = [
  {
    name: "Dojo",
    layout: [
      "########################",
      "#......................#",
      "#..........####........#",
      "#......................#",
      "#....####........####..#",
      "#......................#",
      "#..........####........#",
      "#......................#",
      "########################"
    ]
  },
  {
    name: "Forest",
    layout: [
      "########################",
      "#......................#",
      "#...######.............#",
      "#......................#",
      "#.............######...#",
      "#......................#",
      "#...######.............#",
      "#......................#",
      "########################"
    ]
  },
  {
    name: "Factory",
    layout: [
      "########################",
      "#......................#",
      "#..####....####....####.#",
      "#......................#",
      "#....####........####..#",
      "#......................#",
      "#..####....####....####.#",
      "#......................#",
      "########################"
    ]
  },
  {
    name: "Ruins",
    layout: [
      "########################",
      "#......................#",
      "#......####......####.#",
      "#......................#",
      "#..####........####....#",
      "#......................#",
      "#......####......####.#",
      "#......................#",
      "########################"
    ]
  }
];

function drawMap(ctx, map) {
  for (let y = 0; y < map.layout.length; y++) {
    for (let x = 0; x < map.layout[y].length; x++) {
      if (map.layout[y][x] === "#") {
        ctx.fillStyle = "#555";
        ctx.fillRect(x*TILE, y*TILE, TILE, TILE);
      }
    }
  }
}

function solidAt(map, x, y) {
  let tx = Math.floor(x / TILE);
  let ty = Math.floor(y / TILE);
  return map.layout[ty]?.[tx] === "#";
}
